$(".sumbitBtn").click(function(){var e=$('[name="user1"]'),s=$('[name="pass1"]'),a=e.val(),r=s.val(),d=/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9]|19[0|1|2|3|5|6|7|8|9])\d{8}$/,o=/^[a-zA-Z]\w{7,17}$/;return d.test(a)?(e.next().addClass("pass"),$(".errorInfo").eq(0).find("div").removeClass("active"),$(e).addClass("active-green")):(e.next().addClass("error"),$(".errorInfo").eq(0).find("div").addClass("active").find("span").eq(0).removeClass("hiddenError"),$(e).addClass("active-red")),$("[name=card]").val().toUpperCase()===$(".code").html()?($("[name=card]").addClass("active-green").next().addClass("pass"),$(".errorInfo").eq(1).find("div").removeClass("active")):($("[name=card]").addClass("active-red").next().addClass("error"),$(".errorInfo").eq(1).find("div").addClass("active"),$(".code").html(createCode())),o.test(r)?(s.next().addClass("pass"),$(".errorInfo").eq(2).find("div").removeClass("active"),$(s).addClass("active-green")):/^[a-zA-Z]/.test(r)?/\w{8,18}/.test(r)||($("[name=pass2]").addClass("active-red").next().addClass("error"),s.next().addClass("error"),$(".errorInfo").eq(2).find("div").addClass("active").find("span").eq(1).removeClass("hiddenError").siblings().addClass("hiddenError"),$(s).addClass("active-red")):(s.next().addClass("error"),$(".errorInfo").eq(2).find("div").addClass("active").find("span").eq(0).removeClass("hiddenError").siblings().addClass("hiddenError"),$(s).addClass("active-red")),""==r&&($(".errorInfo").eq(2).find("div").addClass("active").find("span").eq(2).removeClass("hiddenError").siblings().addClass("hiddenError").end().end().end().find("i").removeClass("hiddenError"),s.next().addClass("error"),$(s).addClass("active-red")),r==$("[name=pass2]").val()&&""!=$("[name=pass2]").val()?$("[name=pass2]").addClass("active-green").next().addClass("pass"):""==$("[name=pass2]").val()?($("[name=pass2]").addClass("active-red").next().addClass("error"),$(".errorInfo").eq(3).find("div").addClass("active").find("span").eq(0).removeClass("hiddenError").next().addClass("hiddenError")):($("[name=pass2]").addClass("active-red").next().addClass("error"),$(".errorInfo").eq(3).find("div").addClass("active").find("span").eq(1).removeClass("hiddenError").prev().addClass("hiddenError")),d.test(a)&&o.test(r)&&r==$("[name=pass2]").val()&&""!=$("[name=pass2]").val()&&$("[name=card]").val().toUpperCase()===$(".code").html()&&$.ajax({url:"../php/register.php",type:"post",data:{userphone:a,password:r,addTime:(new Date).getTime()},dataType:"text",success:function(e){1==e?alert("注册成功"):2==e?alert("用户已存在"):alert("注册失败")}}),createCode(),!1}),$('[name="agreed"]').click(function(){this.checked?$('[type="button"]').addClass("passBtn").attr("disabled",!1):$('[type="button"]').removeClass("passBtn").attr("disabled",!0)}),$('[name="user1"]').focus(function(){$(this).removeClass("active-green").removeClass("active-red").css("border-bottom","1px solid #000").next().addClass("input")}).focusout(function(){$(this).css("border-bottom","1px solid #ccc").next().removeClass("input")}),$('[name="card"]').focus(function(){$(this).removeClass("active-green").removeClass("active-red").css("border-bottom","1px solid #000").next().addClass("input"),$(".code").css("color","#000")}).focusout(function(){$(this).css("border-bottom","1px solid #ccc").next().removeClass("input")}),$('[name="pass1"]').focus(function(){$(this).removeClass("active-green").removeClass("active-red").css("border-bottom","1px solid #000").next().addClass("input")}).focusout(function(){$(this).css("border-bottom","1px solid #ccc").next().removeClass("input")}),$('[name="pass2"]').focus(function(){$(this).removeClass("active-green").removeClass("active-red").css("border-bottom","1px solid #000").next().addClass("input")}).focusout(function(){$(this).css("border-bottom","1px solid #ccc").next().removeClass("input")});var user=document.querySelector('[name="user1"]'),card=document.querySelector('[name="card"]'),pass1=document.querySelector('[name="pass1"]'),pass2=document.querySelector('[name="pass2"]');user.oninput=function(){$(this).next().removeClass("error").removeClass("pass"),$(".errorInfo").eq(0).find("div").removeClass("active")},card.oninput=function(){$(this).next().removeClass("error").removeClass("pass"),$(".errorInfo").eq(1).find("div").removeClass("active")},pass1.oninput=function(){$(this).next().removeClass("error").removeClass("pass"),$(".errorInfo").eq(2).find("div").removeClass("active")},pass2.oninput=function(){$(this).next().removeClass("error").removeClass("pass"),$(".errorInfo").eq(3).find("div").removeClass("active")},createCode(),$(".codeCg").click(function(){$(".code").html(createCode())});